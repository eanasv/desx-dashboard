{"ast":null,"code":"import _slicedToArray from\"/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{getHttp}from\"../../service/APIRequest\";import{userapi}from\"../../service/Config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var UserList=function UserList(_ref){var refresh=_ref.refresh,setUserDetailsForEdit=_ref.setUserDetailsForEdit,deleteUser=_ref.deleteUser;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];useEffect(function(){getAllUsers();},[refresh]);var getAllUsers=function getAllUsers(){getHttp(userapi+\"allUsers\").then(function(response){console.log(response);setUsers(response.data);}).catch(function(error){console.log(error);// handle error\n});///\n};var editUser=function editUser(id){getHttp(userapi+id).then(function(response){console.log(response);setUserDetailsForEdit(response);//setUsers(response.data);\n}).catch(function(error){console.log(error);// handle error\n});};return/*#__PURE__*/_jsxs(\"div\",{className:\"user-list-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User List\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Entity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Edit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delete\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.username}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.role}),/*#__PURE__*/_jsx(\"td\",{children:user.entity}),/*#__PURE__*/_jsx(\"td\",{onClick:function onClick(){return editUser(user.id);},children:/*#__PURE__*/_jsx(\"img\",{src:require(\"../../assets/edit.png\"),alt:\"SVG\",width:\"25px\",height:\"25px\"})}),/*#__PURE__*/_jsxs(\"td\",{onClick:function onClick(){return deleteUser(user.id);},children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:require(\"../../assets/delete.png\"),alt:\"SVG\",width:\"25px\",height:\"25px\"})]})]},user.id);})})]})]});};","map":{"version":3,"names":["React","useEffect","useState","getHttp","userapi","UserList","refresh","setUserDetailsForEdit","deleteUser","users","setUsers","getAllUsers","then","response","console","log","data","catch","error","editUser","id","map","user","name","username","email","role","entity","require"],"sources":["/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/src/components/userList/UserList.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { getHttp } from \"../../service/APIRequest\";\nimport { userapi } from \"../../service/Config\";\n\nexport const UserList = ({ refresh, setUserDetailsForEdit, deleteUser }) => {\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    getAllUsers();\n  }, [refresh]);\n\n  const getAllUsers = () => {\n    getHttp(userapi + \"allUsers\")\n      .then((response) => {\n        console.log(response);\n        setUsers(response.data);\n      })\n      .catch((error) => {\n        console.log(error);\n        // handle error\n      });\n    ///\n  };\n\n  const editUser = (id) => {\n    getHttp(userapi + id)\n      .then((response) => {\n        console.log(response);\n        setUserDetailsForEdit(response);\n        //setUsers(response.data);\n      })\n      .catch((error) => {\n        console.log(error);\n        // handle error\n      });\n  };\n\n  return (\n    <div className=\"user-list-container\">\n      <h2>User List</h2>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Username</th>\n            <th>Email</th>\n            <th>Role</th>\n            <th>Entity</th>\n            <th>Edit</th>\n            <th>Delete</th>\n            {/* Other table headers */}\n          </tr>\n        </thead>\n        <tbody>\n          {users.map((user) => (\n            <tr key={user.id}>\n              <td>{user.name}</td>\n              <td>{user.username}</td>\n              <td>{user.email}</td>\n              <td>{user.role}</td>\n              <td>{user.entity}</td>\n              <td onClick={() => editUser(user.id)}>\n                <img\n                  src={require(`../../assets/edit.png`)}\n                  alt=\"SVG\"\n                  width=\"25px\"\n                  height=\"25px\"\n                />\n              </td>\n              <td onClick={() => deleteUser(user.id)}>\n                {\" \"}\n                <img\n                  src={require(`../../assets/delete.png`)}\n                  alt=\"SVG\"\n                  width=\"25px\"\n                  height=\"25px\"\n                />\n              </td>\n              {/* Other table cells */}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n"],"mappings":"yJAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,0BAA0B,CAClD,OAASC,OAAO,KAAQ,sBAAsB,CAAC,wFAE/C,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAQ,MAAuD,IAAjDC,QAAO,MAAPA,OAAO,CAAEC,qBAAqB,MAArBA,qBAAqB,CAAEC,UAAU,MAAVA,UAAU,CACnE,cAA0BN,QAAQ,CAAC,EAAE,CAAC,wCAA/BO,KAAK,eAAEC,QAAQ,eAEtBT,SAAS,CAAC,UAAM,CACdU,WAAW,EAAE,CACf,CAAC,CAAE,CAACL,OAAO,CAAC,CAAC,CAEb,GAAMK,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxBR,OAAO,CAACC,OAAO,CAAG,UAAU,CAAC,CAC1BQ,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,CACrBH,QAAQ,CAACG,QAAQ,CAACG,IAAI,CAAC,CACzB,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAAC,CAClB;AACF,CAAC,CAAC,CACJ;AACF,CAAC,CAED,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,EAAE,CAAK,CACvBjB,OAAO,CAACC,OAAO,CAAGgB,EAAE,CAAC,CAClBR,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,CACrBN,qBAAqB,CAACM,QAAQ,CAAC,CAC/B;AACF,CAAC,CAAC,CACDI,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAAC,CAClB;AACF,CAAC,CAAC,CACN,CAAC,CAED,mBACE,aAAK,SAAS,CAAC,qBAAqB,wBAClC,oBAAI,WAAS,EAAK,cAClB,eAAO,SAAS,CAAC,OAAO,wBACtB,oCACE,mCACE,oBAAI,MAAI,EAAK,cACb,oBAAI,UAAQ,EAAK,cACjB,oBAAI,OAAK,EAAK,cACd,oBAAI,MAAI,EAAK,cACb,oBAAI,QAAM,EAAK,cACf,oBAAI,MAAI,EAAK,cACb,oBAAI,QAAM,EAAK,GAEZ,EACC,cACR,uBACGT,KAAK,CAACY,GAAG,CAAC,SAACC,IAAI,qBACd,mCACE,oBAAKA,IAAI,CAACC,IAAI,EAAM,cACpB,oBAAKD,IAAI,CAACE,QAAQ,EAAM,cACxB,oBAAKF,IAAI,CAACG,KAAK,EAAM,cACrB,oBAAKH,IAAI,CAACI,IAAI,EAAM,cACpB,oBAAKJ,IAAI,CAACK,MAAM,EAAM,cACtB,WAAI,OAAO,CAAE,yBAAMR,SAAQ,CAACG,IAAI,CAACF,EAAE,CAAC,EAAC,uBACnC,YACE,GAAG,CAAEQ,OAAO,yBAA0B,CACtC,GAAG,CAAC,KAAK,CACT,KAAK,CAAC,MAAM,CACZ,MAAM,CAAC,MAAM,EACb,EACC,cACL,YAAI,OAAO,CAAE,yBAAMpB,WAAU,CAACc,IAAI,CAACF,EAAE,CAAC,EAAC,WACpC,GAAG,cACJ,YACE,GAAG,CAAEQ,OAAO,2BAA4B,CACxC,GAAG,CAAC,KAAK,CACT,KAAK,CAAC,MAAM,CACZ,MAAM,CAAC,MAAM,EACb,GACC,GAtBEN,IAAI,CAACF,EAAE,CAwBX,EACN,CAAC,EACI,GACF,GACJ,CAEV,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}