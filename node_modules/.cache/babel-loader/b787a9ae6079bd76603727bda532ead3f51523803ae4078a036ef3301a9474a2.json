{"ast":null,"code":"import _slicedToArray from\"/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Chart from\"react-apexcharts\";import\"../Chart.css\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DonutChart=function DonutChart(_ref){var details=_ref.details,heading=_ref.heading;var data1={labels:details===null||details===void 0?void 0:details.map(function(item){return item.category;}),datasets:[{label:\"# of Employees\",data:details===null||details===void 0?void 0:details.map(function(item){return item.count;}),backgroundColor:[\"#a2d6c4\",\"rgba(54, 162, 235, 0.2)\",\"rgba(255, 206, 86, 0.2)\"],borderColor:[\"white\",\"white\",\"white\"],borderWidth:3}]// options: {\n//   plugins: {\n//     datalabels: {\n//       formatter: (value) => {\n//         console.log(value);\n//         return value + \"%\";\n//       },\n//     },\n//   },\n// },\n};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),display=_useState2[0],setDisplay=_useState2[1];var data={options:{labels:details===null||details===void 0?void 0:details.map(function(item){return item.category;}),tooltip:{custom:function custom(_ref2){var series=_ref2.series,seriesIndex=_ref2.seriesIndex,dataPointIndex=_ref2.dataPointIndex,w=_ref2.w;return'<div class=\"custom-tooltip\">'+\"<span># of Employees<br/>\"+w.config.labels[seriesIndex]+\" - </span>\"+\"<span>\"+series[seriesIndex]+\"</span>\"+\"</div>\";}},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{//show: true,\nposition:\"top\",floating:true}}}]},series:details===null||details===void 0?void 0:details.map(function(item){return item.count;})};useEffect(function(){setTimeout(function(){return setDisplay(true);},100);},[]);if(!display){return/*#__PURE__*/_jsx(_Fragment,{});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"donut-heading\",hidden:(details===null||details===void 0?void 0:details.length)<=0//className={multiLayer ? \"center-heading\" : \"\"}\n,children:heading}),/*#__PURE__*/_jsx(\"div\",{className:\"mixed-chart\",children:/*#__PURE__*/_jsx(Chart,{options:data===null||data===void 0?void 0:data.options,series:data===null||data===void 0?void 0:data.series,type:\"donut\",width:\"500\"})})]});};export default DonutChart;","map":{"version":3,"names":["React","useEffect","useState","Chart","DonutChart","details","heading","data1","labels","map","item","category","datasets","label","data","count","backgroundColor","borderColor","borderWidth","display","setDisplay","options","tooltip","custom","series","seriesIndex","dataPointIndex","w","config","responsive","breakpoint","chart","width","legend","position","floating","setTimeout","length"],"sources":["/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/src/components/Graph/donutChart/DonutChart.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Chart from \"react-apexcharts\";\n\nimport \"../Chart.css\";\n\ninterface donutChartInterface {\n  details?: any;\n  heading: String;\n}\n\nconst DonutChart: React.FC<donutChartInterface> = ({ details, heading }) => {\n  var data1 = {\n    labels: details?.map((item) => item.category),\n    datasets: [\n      {\n        label: \"# of Employees\",\n        data: details?.map((item) => item.count),\n        backgroundColor: [\n          \"#a2d6c4\",\n          \"rgba(54, 162, 235, 0.2)\",\n          \"rgba(255, 206, 86, 0.2)\",\n        ],\n        borderColor: [\"white\", \"white\", \"white\"],\n        borderWidth: 3,\n      },\n    ],\n    // options: {\n    //   plugins: {\n    //     datalabels: {\n    //       formatter: (value) => {\n    //         console.log(value);\n    //         return value + \"%\";\n    //       },\n    //     },\n    //   },\n    // },\n  };\n\n  const [display, setDisplay] = useState(false);\n  const data = {\n    options: {\n      labels: details?.map((item) => item.category),\n      tooltip: {\n        custom: function ({ series, seriesIndex, dataPointIndex, w }) {\n          return (\n            '<div class=\"custom-tooltip\">' +\n            \"<span># of Employees<br/>\" +\n            w.config.labels[seriesIndex] +\n            \" - </span>\" +\n            \"<span>\" +\n            series[seriesIndex] +\n            \"</span>\" +\n            \"</div>\"\n          );\n        },\n      },\n      responsive: [\n        {\n          breakpoint: 480,\n          options: {\n            chart: {\n              width: 200,\n            },\n            legend: {\n              //show: true,\n              position: \"top\",\n              floating: true,\n            },\n          },\n        },\n      ],\n    },\n    series: details?.map((item) => item.count),\n  };\n\n  useEffect(() => {\n    setTimeout(() => setDisplay(true), 100);\n  }, []);\n\n  if (!display) {\n    return <></>;\n  }\n\n  return (\n    <div>\n      <div\n        className=\"donut-heading\"\n        hidden={details?.length <= 0}\n        //className={multiLayer ? \"center-heading\" : \"\"}\n      >\n        {heading}\n      </div>\n\n      <div className=\"mixed-chart\">\n        <Chart\n          options={data?.options}\n          series={data?.series}\n          type=\"donut\"\n          width=\"500\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default DonutChart;\n"],"mappings":"yJAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,MAAK,KAAM,kBAAkB,CAEpC,MAAO,cAAc,CAAC,6IAOtB,GAAMC,WAAyC,CAAG,QAA5CA,WAAyC,MAA6B,IAAvBC,QAAO,MAAPA,OAAO,CAAEC,OAAO,MAAPA,OAAO,CACnE,GAAIC,MAAK,CAAG,CACVC,MAAM,CAAEH,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEI,GAAG,CAAC,SAACC,IAAI,QAAKA,KAAI,CAACC,QAAQ,GAAC,CAC7CC,QAAQ,CAAE,CACR,CACEC,KAAK,CAAE,gBAAgB,CACvBC,IAAI,CAAET,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEI,GAAG,CAAC,SAACC,IAAI,QAAKA,KAAI,CAACK,KAAK,GAAC,CACxCC,eAAe,CAAE,CACf,SAAS,CACT,yBAAyB,CACzB,yBAAyB,CAC1B,CACDC,WAAW,CAAE,CAAC,OAAO,CAAE,OAAO,CAAE,OAAO,CAAC,CACxCC,WAAW,CAAE,CACf,CAAC,CAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACF,CAAC,CAED,cAA8BhB,QAAQ,CAAC,KAAK,CAAC,wCAAtCiB,OAAO,eAAEC,UAAU,eAC1B,GAAMN,KAAI,CAAG,CACXO,OAAO,CAAE,CACPb,MAAM,CAAEH,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEI,GAAG,CAAC,SAACC,IAAI,QAAKA,KAAI,CAACC,QAAQ,GAAC,CAC7CW,OAAO,CAAE,CACPC,MAAM,CAAE,sBAAsD,IAA1CC,OAAM,OAANA,MAAM,CAAEC,WAAW,OAAXA,WAAW,CAAEC,cAAc,OAAdA,cAAc,CAAEC,CAAC,OAADA,CAAC,CACxD,MACE,8BAA8B,CAC9B,2BAA2B,CAC3BA,CAAC,CAACC,MAAM,CAACpB,MAAM,CAACiB,WAAW,CAAC,CAC5B,YAAY,CACZ,QAAQ,CACRD,MAAM,CAACC,WAAW,CAAC,CACnB,SAAS,CACT,QAAQ,CAEZ,CACF,CAAC,CACDI,UAAU,CAAE,CACV,CACEC,UAAU,CAAE,GAAG,CACfT,OAAO,CAAE,CACPU,KAAK,CAAE,CACLC,KAAK,CAAE,GACT,CAAC,CACDC,MAAM,CAAE,CACN;AACAC,QAAQ,CAAE,KAAK,CACfC,QAAQ,CAAE,IACZ,CACF,CACF,CAAC,CAEL,CAAC,CACDX,MAAM,CAAEnB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEI,GAAG,CAAC,SAACC,IAAI,QAAKA,KAAI,CAACK,KAAK,GAC3C,CAAC,CAEDd,SAAS,CAAC,UAAM,CACdmC,UAAU,CAAC,iBAAMhB,WAAU,CAAC,IAAI,CAAC,GAAE,GAAG,CAAC,CACzC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAACD,OAAO,CAAE,CACZ,mBAAO,kBAAK,CACd,CAEA,mBACE,oCACE,YACE,SAAS,CAAC,eAAe,CACzB,MAAM,CAAE,CAAAd,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEgC,MAAM,GAAI,CAC3B;AAAA,UAEC/B,OAAO,EACJ,cAEN,YAAK,SAAS,CAAC,aAAa,uBAC1B,KAAC,KAAK,EACJ,OAAO,CAAEQ,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEO,OAAQ,CACvB,MAAM,CAAEP,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEU,MAAO,CACrB,IAAI,CAAC,OAAO,CACZ,KAAK,CAAC,KAAK,EACX,EACE,GACF,CAEV,CAAC,CAED,cAAepB,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}