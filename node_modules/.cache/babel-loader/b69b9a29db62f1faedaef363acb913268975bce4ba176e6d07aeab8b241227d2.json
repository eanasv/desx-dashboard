{"ast":null,"code":"import _toConsumableArray from\"/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{getHttp}from\"../../../service/APIRequest\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var SummaryTable=function SummaryTable(_ref){var entityList=_ref.entityList;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),summaryData=_useState2[0],setsummaryData=_useState2[1];// const [allEntityList, setallEntityList] = useState([]);\nvar _useState3=useState(entityList),_useState4=_slicedToArray(_useState3,2),allEntityList=_useState4[0],setallEntityList=_useState4[1];useEffect(function(){// setsummaryData(data);\nsetallEntityList(entityList);getRankBasedonLatestSCore();},[entityList]);useEffect(function(){},[]);var getRankBasedonLatestSCore=function getRankBasedonLatestSCore(){if((entityList===null||entityList===void 0?void 0:entityList.length)>0){var entityLists=entityList===null||entityList===void 0?void 0:entityList.map(function(item){return item.label;});getHttp(\"skills/latestScore\",{entityNames:entityLists.join(\",\")}).then(function(response){// Check if the original array has less than 10 elements\nif(response.length<=10){// If it does, copy the whole array to the new array\nsetsummaryData(response.map(function(item,index){return _objectSpread(_objectSpread({},item),{},{index:index});}));//setsummaryData(response);\n}else{// If it has 10 or more elements, copy the first 5 and last 5 elements to the new array\nvar slicedResponse=[].concat(_toConsumableArray(response.slice(0,5).map(function(item,index){return _objectSpread(_objectSpread({},item),{},{index:index});})),_toConsumableArray(response.slice(-5).map(function(item,index){return _objectSpread(_objectSpread({},item),{},{index:response.length-5+index});})));setsummaryData(slicedResponse);//setsummaryData([...response.slice(0, 5), ...response.slice(-5)]);\n}// setsummaryData(response);\n//fetchChart4Data(response);\n// handle success\n}).catch(function(error){console.log(error);// handle error\n});}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"table-heading\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"each-column-border\",children:\"Rank \"}),/*#__PURE__*/_jsx(\"th\",{className:\"each-column-border\",children:\"Entity Name\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:summaryData===null||summaryData===void 0?void 0:summaryData.map(function(item,index){return/*#__PURE__*/_jsxs(React.Fragment,{children:[index===5&&/*#__PURE__*/_jsx(\"tr\",{className:\"table-heading\",children:/*#__PURE__*/_jsx(\"th\",{colSpan:2,className:\"each-column-border\",children:\"Last five\"})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"each-column-border\",children:item.index+1}),/*#__PURE__*/_jsx(\"td\",{className:\"each-column-border\",children:item.companyName})]})]},index);})})]})});};","map":{"version":3,"names":["React","useEffect","useState","getHttp","SummaryTable","entityList","summaryData","setsummaryData","allEntityList","setallEntityList","getRankBasedonLatestSCore","length","entityLists","map","item","label","entityNames","join","then","response","index","slicedResponse","slice","catch","error","console","log","companyName"],"sources":["/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/src/pages/Tabs/tab3/SummaryTable.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { getHttp } from \"../../../service/APIRequest\";\n\ninterface SummaryTableInterface {\n  entityList;\n}\nexport const SummaryTable: React.FC<SummaryTableInterface> = ({\n  entityList,\n}) => {\n  const [summaryData, setsummaryData] = useState([]);\n  // const [allEntityList, setallEntityList] = useState([]);\n  const [allEntityList, setallEntityList] = useState(entityList);\n\n  useEffect(() => {\n    // setsummaryData(data);\n    setallEntityList(entityList);\n    getRankBasedonLatestSCore();\n  }, [entityList]);\n\n  useEffect(() => {}, []);\n\n  const getRankBasedonLatestSCore = () => {\n    if (entityList?.length > 0) {\n      var entityLists = entityList?.map((item) => item.label);\n      getHttp(\"skills/latestScore\", {\n        entityNames: entityLists.join(\",\"),\n      })\n        .then((response) => {\n          // Check if the original array has less than 10 elements\n          if (response.length <= 10) {\n            // If it does, copy the whole array to the new array\n            setsummaryData(response.map((item, index) => ({ ...item, index })));\n\n            //setsummaryData(response);\n          } else {\n            // If it has 10 or more elements, copy the first 5 and last 5 elements to the new array\n            const slicedResponse = [\n              ...response\n                .slice(0, 5)\n                .map((item, index) => ({ ...item, index })),\n              ...response.slice(-5).map((item, index) => ({\n                ...item,\n                index: response.length - 5 + index,\n              })),\n            ];\n            setsummaryData(slicedResponse);\n            //setsummaryData([...response.slice(0, 5), ...response.slice(-5)]);\n          }\n          // setsummaryData(response);\n          //fetchChart4Data(response);\n          // handle success\n        })\n        .catch((error) => {\n          console.log(error);\n          // handle error\n        });\n    }\n  };\n\n  return (\n    <div>\n      <table className=\"table\">\n        <thead>\n          <tr className=\"table-heading\">\n            <th className=\"each-column-border\">Rank </th>\n            <th className=\"each-column-border\">Entity Name</th>\n          </tr>\n        </thead>\n        <tbody>\n          {summaryData?.map((item, index) => (\n            <React.Fragment key={index}>\n              {index === 5 && (\n                <tr className=\"table-heading\">\n                  <th colSpan={2} className=\"each-column-border\">\n                    Last five\n                  </th>\n                </tr>\n              )}\n              <tr>\n                <td className=\"each-column-border\">{item.index + 1}</td>\n                <td className=\"each-column-border\">{item.companyName}</td>\n              </tr>\n            </React.Fragment>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}