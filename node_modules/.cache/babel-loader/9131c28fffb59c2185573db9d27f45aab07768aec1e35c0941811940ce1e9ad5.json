{"ast":null,"code":"import _regeneratorRuntime from\"/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import\"./Login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"/api/auth/login\",{username:username,password:password});case 3:response=_context.sent;token=response.data.token;// Store token in session storage\nsessionStorage.setItem(\"token\",token);// Redirect to a protected page\n// You can use React Router for this\n_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(\"Login failed\",_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function handleLogin(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"display-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"align-center\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},className:\"button\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"display-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"align-center\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},className:\"button\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,children:\"Login\"})]})});}export default Login;","map":{"version":3,"names":["React","useState","axios","Login","username","setUsername","password","setPassword","handleLogin","post","response","token","data","sessionStorage","setItem","console","error","e","target","value"],"sources":["/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/src/pages/login/Login.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nimport \"./Login.css\";\n\nfunction Login() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleLogin = async () => {\n    try {\n      const response = await axios.post(\"/api/auth/login\", {\n        username,\n        password,\n      });\n      const token = response.data.token;\n\n      // Store token in session storage\n      sessionStorage.setItem(\"token\", token);\n\n      // Redirect to a protected page\n      // You can use React Router for this\n    } catch (error) {\n      console.error(\"Login failed\", error);\n    }\n  };\n\n  return (\n    <div className=\"login-container\">\n      <div className=\"login-form\">\n        <div className=\"display-flex\">\n          <div className=\"align-center\">Username</div>\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            className=\"button\"\n          />\n        </div>\n        <div className=\"display-flex\">\n          <div className=\"align-center\">Password</div>\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            className=\"button\"\n          />\n        </div>\n        <button onClick={handleLogin}>Login</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"2dAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,MAAK,KAAM,OAAO,CAEzB,MAAO,aAAa,CAAC,wFAErB,QAASC,MAAK,EAAG,CACf,cAAgCF,QAAQ,CAAC,EAAE,CAAC,wCAArCG,QAAQ,eAAEC,WAAW,eAC5B,eAAgCJ,QAAQ,CAAC,EAAE,CAAC,yCAArCK,QAAQ,eAAEC,WAAW,eAE5B,GAAMC,YAAW,4FAAG,6LAEON,MAAK,CAACO,IAAI,CAAC,iBAAiB,CAAE,CACnDL,QAAQ,CAARA,QAAQ,CACRE,QAAQ,CAARA,QACF,CAAC,CAAC,QAHII,QAAQ,eAIRC,KAAK,CAAGD,QAAQ,CAACE,IAAI,CAACD,KAAK,CAEjC;AACAE,cAAc,CAACC,OAAO,CAAC,OAAO,CAAEH,KAAK,CAAC,CAEtC;AACA;AAAA,+EAEAI,OAAO,CAACC,KAAK,CAAC,cAAc,aAAQ,CAAC,mEAExC,kBAhBKR,YAAW,0CAgBhB,CAED,mBACE,YAAK,SAAS,CAAC,iBAAiB,uBAC9B,aAAK,SAAS,CAAC,YAAY,wBACzB,aAAK,SAAS,CAAC,cAAc,wBAC3B,YAAK,SAAS,CAAC,cAAc,UAAC,UAAQ,EAAM,cAC5C,cACE,IAAI,CAAC,MAAM,CACX,WAAW,CAAC,UAAU,CACtB,KAAK,CAAEJ,QAAS,CAChB,QAAQ,CAAE,kBAACa,CAAC,QAAKZ,YAAW,CAACY,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CAC7C,SAAS,CAAC,QAAQ,EAClB,GACE,cACN,aAAK,SAAS,CAAC,cAAc,wBAC3B,YAAK,SAAS,CAAC,cAAc,UAAC,UAAQ,EAAM,cAC5C,cACE,IAAI,CAAC,UAAU,CACf,WAAW,CAAC,UAAU,CACtB,KAAK,CAAEb,QAAS,CAChB,QAAQ,CAAE,kBAACW,CAAC,QAAKV,YAAW,CAACU,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CAC7C,SAAS,CAAC,QAAQ,EAClB,GACE,cACN,eAAQ,OAAO,CAAEX,WAAY,UAAC,OAAK,EAAS,GACxC,EACF,CAEV,CAEA,cAAeL,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}