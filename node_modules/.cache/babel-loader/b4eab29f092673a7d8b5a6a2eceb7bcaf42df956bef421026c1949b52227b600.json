{"ast":null,"code":"var _jsxFileName = \"/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/src/components/Graph/donutChart/DonutChart.tsx\";\nimport React from \"react\";\nimport { Doughnut } from \"react-chartjs-2\";\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from \"chart.js\";\n//import \"chartjs-plugin-datalabels\";\n\nimport \"../Chart.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(ArcElement, Tooltip, Legend);\nconst DonutChart = _ref => {\n  let {\n    details,\n    multiLayer,\n    heading\n  } = _ref;\n  var data;\n  if (details && multiLayer) {\n    var _details$, _details$2, _details$3, _details$4, _details$5, _details$6, _details$7, _details$8, _details$9;\n    data = {\n      datasets: [{\n        data: [(_details$ = details[0]) === null || _details$ === void 0 ? void 0 : _details$.count, 100 - ((_details$2 = details[0]) === null || _details$2 === void 0 ? void 0 : _details$2.count)],\n        label: (_details$3 = details[0]) === null || _details$3 === void 0 ? void 0 : _details$3.category,\n        backgroundColor: [\"#a2d6c4\", \"#ededed\"],\n        hoverBackgroundColor: [\"green\", \"#36A2EB\", \"#FFCE56\"]\n      }, {\n        data: [(_details$4 = details[1]) === null || _details$4 === void 0 ? void 0 : _details$4.count, 100 - ((_details$5 = details[1]) === null || _details$5 === void 0 ? void 0 : _details$5.count)],\n        label: (_details$6 = details[1]) === null || _details$6 === void 0 ? void 0 : _details$6.category,\n        backgroundColor: [\"rgba(54, 162, 235, 0.2)\", \"#ededed\"],\n        hoverBackgroundColor: [\"rgba(54, 162, 235, 1)\", \"#36A2EB\", \"#FFCE56\"]\n      }, {\n        data: [(_details$7 = details[2]) === null || _details$7 === void 0 ? void 0 : _details$7.count, 100 - ((_details$8 = details[2]) === null || _details$8 === void 0 ? void 0 : _details$8.count)],\n        label: (_details$9 = details[2]) === null || _details$9 === void 0 ? void 0 : _details$9.category,\n        backgroundColor: [\"rgba(255, 206, 86, 0.2)\", \"#ededed\"],\n        hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\", \"#FFCE56\"]\n      }],\n      labels: [\"completed\", \"not completed\"]\n    };\n  } else {\n    data = {\n      labels: details === null || details === void 0 ? void 0 : details.map(item => item.category),\n      datasets: [{\n        label: \"# of Employees\",\n        data: details === null || details === void 0 ? void 0 : details.map(item => item.count),\n        backgroundColor: [\"#a2d6c4\", \"rgba(54, 162, 235, 0.2)\", \"rgba(255, 206, 86, 0.2)\"],\n        borderColor: [\"green\", \"rgba(54, 162, 235, 1)\", \"rgba(255, 206, 86, 1)\"],\n        borderWidth: 1\n      }]\n      // options: {\n      //   plugins: {\n      //     datalabels: {\n      //       formatter: (value) => {\n      //         console.log(value);\n      //         return value + \"%\";\n      //       },\n      //     },\n      //   },\n      // },\n    };\n  }\n\n  const options = {\n    responsive: true,\n    plugins: {\n      datalabels: {\n        display: true,\n        color: \"black\",\n        align: \"start\",\n        anchor: \"end\",\n        font: {\n          size: \"14\"\n        },\n        formatter: value => {\n          return value + \"%\";\n        }\n      },\n      legend: {\n        position: \"bottom\"\n      },\n      labels: {\n        usePointStyle: true,\n        pointStyle: \"circle\"\n      },\n      title: {\n        display: true,\n        text: \"Donut Chart\"\n      }\n    }\n  };\n\n  //eanas test multi\n\n  const options2 = {\n    title: {\n      display: true,\n      text: \"Multi-layered Donut Chart\"\n    },\n    legend: {\n      position: \"bottom\"\n    },\n    tooltips: {\n      callbacks: {\n        label: function (tooltipItem, data) {\n          const dataset = data.datasets[tooltipItem.datasetIndex];\n          const value = dataset.data[tooltipItem.index];\n          const label = data.labels[tooltipItem.index];\n          return `${label}: ${value}%`;\n        }\n      }\n    }\n  };\n  var percentage;\n  var options1 = {\n    plugins: {\n      datalabels: {\n        formatter: (value, ctx) => {\n          console.log(value, ctx);\n          return value + \"%\";\n          // let datasets = ctx.chart.data.datasets;\n\n          // if (datasets.indexOf(ctx.dataset) === datasets.length - 1) {\n          //   let sum = datasets[0].data.reduce((a, b) => a + b, 0);\n          //   percentage = Math.round((value / sum) * 100) + \"%\";\n          //   return percentage;\n          // } else {\n          //   return percentage;\n          // }\n        },\n\n        color: \"red\"\n      }\n    }\n  };\n  const options3 = {\n    plugins: {\n      datalabels: {\n        formatter: function (value, context) {\n          return context.chart.data.labels[context.dataIndex];\n        },\n        align: \"top\",\n        anchor: \"center\",\n        offset: 25,\n        padding: -2,\n        clip: true,\n        font: {\n          size: 10,\n          weight: \"bold\"\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      hidden: (details === null || details === void 0 ? void 0 : details.length) <= 0,\n      className: multiLayer ? \"center-heading\" : \"\",\n      children: heading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-container\",\n      children: [/*#__PURE__*/_jsxDEV(Doughnut, {\n        data: data,\n        options: {\n          plugins: {\n            datalabels: {\n              formatter: function (value, context) {\n                return context.chart.data.labels[context.dataIndex];\n              },\n              align: \"top\",\n              anchor: \"center\",\n              offset: 25,\n              padding: -2,\n              clip: false\n            },\n            legend: {\n              position: \"top\",\n              labels: {\n                usePointStyle: true,\n                pointStyle: \"circle\"\n              }\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Doughnut, {\n        data: data,\n        options: options3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 5\n  }, this);\n};\n_c = DonutChart;\nexport default DonutChart;\nvar _c;\n$RefreshReg$(_c, \"DonutChart\");","map":{"version":3,"names":["React","Doughnut","Chart","ChartJS","ArcElement","Tooltip","Legend","register","DonutChart","details","multiLayer","heading","data","datasets","count","label","category","backgroundColor","hoverBackgroundColor","labels","map","item","borderColor","borderWidth","options","responsive","plugins","datalabels","display","color","align","anchor","font","size","formatter","value","legend","position","usePointStyle","pointStyle","title","text","options2","tooltips","callbacks","tooltipItem","dataset","datasetIndex","index","percentage","options1","ctx","console","log","options3","context","chart","dataIndex","offset","padding","clip","weight","length"],"sources":["/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/src/components/Graph/donutChart/DonutChart.tsx"],"sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { Bar, Doughnut } from \"react-chartjs-2\";\nimport {\n  Chart as ChartJS,\n  ArcElement,\n  Tooltip,\n  Legend,\n  ChartOptions,\n} from \"chart.js\";\n//import \"chartjs-plugin-datalabels\";\nimport ChartDataLabels from \"chartjs-plugin-datalabels\";\n\nimport \"../Chart.css\";\n\nChartJS.register(ArcElement, Tooltip, Legend);\n\ninterface donutChartInterface {\n  details?: any;\n  multiLayer?: boolean;\n  heading: String;\n}\n\nconst DonutChart: React.FC<donutChartInterface> = ({\n  details,\n  multiLayer,\n  heading,\n}) => {\n  var data;\n  if (details && multiLayer) {\n    data = {\n      datasets: [\n        {\n          data: [details[0]?.count, 100 - details[0]?.count],\n          label: details[0]?.category,\n          backgroundColor: [\"#a2d6c4\", \"#ededed\"],\n          hoverBackgroundColor: [\"green\", \"#36A2EB\", \"#FFCE56\"],\n        },\n        {\n          data: [details[1]?.count, 100 - details[1]?.count],\n          label: details[1]?.category,\n          backgroundColor: [\"rgba(54, 162, 235, 0.2)\", \"#ededed\"],\n          hoverBackgroundColor: [\"rgba(54, 162, 235, 1)\", \"#36A2EB\", \"#FFCE56\"],\n        },\n        {\n          data: [details[2]?.count, 100 - details[2]?.count],\n          label: details[2]?.category,\n          backgroundColor: [\"rgba(255, 206, 86, 0.2)\", \"#ededed\"],\n          hoverBackgroundColor: [\"#FF6384\", \"#36A2EB\", \"#FFCE56\"],\n        },\n      ],\n      labels: [\"completed\", \"not completed\"],\n    };\n  } else {\n    data = {\n      labels: details?.map((item) => item.category),\n      datasets: [\n        {\n          label: \"# of Employees\",\n          data: details?.map((item) => item.count),\n          backgroundColor: [\n            \"#a2d6c4\",\n            \"rgba(54, 162, 235, 0.2)\",\n            \"rgba(255, 206, 86, 0.2)\",\n          ],\n          borderColor: [\n            \"green\",\n            \"rgba(54, 162, 235, 1)\",\n            \"rgba(255, 206, 86, 1)\",\n          ],\n          borderWidth: 1,\n        },\n      ],\n      // options: {\n      //   plugins: {\n      //     datalabels: {\n      //       formatter: (value) => {\n      //         console.log(value);\n      //         return value + \"%\";\n      //       },\n      //     },\n      //   },\n      // },\n    };\n  }\n\n  const options = {\n    responsive: true,\n    plugins: {\n      datalabels: {\n        display: true,\n\n        color: \"black\",\n        align: \"start\",\n        anchor: \"end\",\n        font: { size: \"14\" },\n        formatter: (value) => {\n          return value + \"%\";\n        },\n      },\n      legend: {\n        position: \"bottom\",\n      },\n      labels: {\n        usePointStyle: true,\n        pointStyle: \"circle\",\n      },\n      title: {\n        display: true,\n        text: \"Donut Chart\",\n      },\n    },\n  };\n\n  //eanas test multi\n\n  const options2 = {\n    title: {\n      display: true,\n      text: \"Multi-layered Donut Chart\",\n    },\n    legend: {\n      position: \"bottom\",\n    },\n    tooltips: {\n      callbacks: {\n        label: function (tooltipItem, data) {\n          const dataset = data.datasets[tooltipItem.datasetIndex];\n          const value = dataset.data[tooltipItem.index];\n          const label = data.labels[tooltipItem.index];\n          return `${label}: ${value}%`;\n        },\n      },\n    },\n  };\n\n  var percentage;\n  var options1 = {\n    plugins: {\n      datalabels: {\n        formatter: (value, ctx) => {\n          console.log(value, ctx);\n          return value + \"%\";\n          // let datasets = ctx.chart.data.datasets;\n\n          // if (datasets.indexOf(ctx.dataset) === datasets.length - 1) {\n          //   let sum = datasets[0].data.reduce((a, b) => a + b, 0);\n          //   percentage = Math.round((value / sum) * 100) + \"%\";\n          //   return percentage;\n          // } else {\n          //   return percentage;\n          // }\n        },\n        color: \"red\",\n      },\n    },\n  };\n\n  const options3: ChartOptions<\"doughnut\"> = {\n    plugins: {\n      datalabels: {\n        formatter: function (value, context) {\n          return context.chart.data.labels[context.dataIndex];\n        },\n        align: \"top\",\n        anchor: \"center\",\n        offset: 25,\n        padding: -2,\n        clip: true,\n        font: {\n          size: 10,\n          weight: \"bold\",\n        },\n      },\n    },\n  };\n\n  return (\n    <div>\n      <div\n        hidden={details?.length <= 0}\n        className={multiLayer ? \"center-heading\" : \"\"}\n      >\n        {heading}\n      </div>\n      <div className=\"chart-container\">\n        {/* <Doughnut\n          data={data}\n          options={{\n            //responsive: true,\n            plugins: {\n              datalabels: {\n                formatter: function (value, context) {\n                  return \"context\";\n                },\n                align: \"top\",\n                anchor: \"center\",\n                offset: 25,\n                padding: -2,\n                clip: false,\n              },\n              legend: {\n                position: \"top\",\n                labels: {\n                  usePointStyle: true,\n                  pointStyle: \"circle\",\n                },\n              },\n            },\n          }}\n          //options={options1}\n        /> */}\n\n        <Doughnut\n          data={data}\n          options={{\n            plugins: {\n              datalabels: {\n                formatter: function (value, context) {\n                  return context.chart.data.labels[context.dataIndex];\n                },\n                align: \"top\",\n                anchor: \"center\",\n                offset: 25,\n                padding: -2,\n                clip: false,\n              },\n              legend: {\n                position: \"top\",\n                labels: {\n                  usePointStyle: true,\n                  pointStyle: \"circle\",\n                },\n              },\n            },\n          }}\n        />\n\n        <Doughnut data={data} options={options3} />\n\n        {/* <Bar data={data} options={options1} /> */}\n      </div>\n    </div>\n  );\n};\n\nexport default DonutChart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}