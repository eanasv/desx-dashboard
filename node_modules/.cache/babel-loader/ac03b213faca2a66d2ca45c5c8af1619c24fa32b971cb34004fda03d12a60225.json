{"ast":null,"code":"import axios from \"axios\";\nimport * as configVariable from \"./Config\";\nimport { showLoader, hideLoader } from \"../redux/features/loaderSlice\";\nimport store from \"../redux/Store\";\nimport { hideErrorMesaage, showErrorMesaage } from \"../redux/features/errorSlice\";\nimport Store from \"../redux/Store\";\n// import { showErrorMesaage } from \"../redux/actions/Actions\";\n\nexport const getHttp = (url, params) => {\n  // const dispatch = useDispatch();\n  const token = getToken();\n  console.log(token);\n  store.dispatch(showLoader());\n  //var responseGet;\n  const getResponse = axios.get(configVariable.baseUrl + url, {\n    // headers: {\n    //   \"Content-Type\": \"application/json\",\n    //   Authorization: `Bearer ${token}`,\n    // },\n\n    params: params ? params : null\n  }).then(response => {\n    console.log(response.status);\n    store.dispatch(hideLoader());\n    return response.data;\n  }).catch(error => {\n    store.dispatch(hideLoader());\n    //return error;\n  });\n\n  return getResponse;\n\n  //   try {\n  //     const response = await axios.get(configVariable.baseUrl + url);\n  //     return response.data;\n  //   } catch (error) {\n  //     return error;\n  //   }\n};\n\nexport const postHttp = (url, formData) => {\n  //event.preventDefault();\n  store.dispatch(showLoader());\n  const postResponse = axios.post(configVariable.baseUrl + url, formData).then(response => {\n    store.dispatch(hideLoader());\n    console.log(\"Data submitted successfully!\", response);\n    if (response.status >= 200 && response.status < 299) {\n      if (url.indexOf(\"login\") !== -1) {\n        localStorage.setItem(\"jwtToken\", response.data);\n        setToken(response.data.data.access_token);\n        return response.data;\n      } else {\n        console.log(\"not login api!.\");\n        return response.data;\n      }\n      Store.dispatch(hideErrorMesaage());\n    }\n  }).catch(error => {\n    var _error$response, _error$response2, _error$response3;\n    console.log(error);\n    store.dispatch(hideLoader());\n    // Store.dispatch(showErrorMesaage(error.message));\n    Store.dispatch(showErrorMesaage(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data));\n    console.error(\"Error submitting data:\", error === null || error === void 0 ? void 0 : (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data);\n    return error === null || error === void 0 ? void 0 : (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data;\n  });\n  return postResponse;\n};\nexport const putHttp = (url, formData) => {\n  //event.preventDefault();\n  store.dispatch(showLoader());\n  const putResponse = axios.put(configVariable.baseUrl + url, formData).then(response => {\n    store.dispatch(hideLoader());\n    console.log(\"Data Updated successfully!\", response.data);\n    console.log(response);\n    if (response.status >= 200 && response.status < 299) {\n      Store.dispatch(hideErrorMesaage());\n      return response.data;\n    }\n  }).catch(error => {\n    var _error$response4, _error$response5, _error$response6;\n    console.log(error);\n    store.dispatch(hideLoader());\n    // Store.dispatch(showErrorMesaage(error.message));\n    Store.dispatch(showErrorMesaage(error === null || error === void 0 ? void 0 : (_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data));\n    console.error(\"Error submitting data:\", error === null || error === void 0 ? void 0 : (_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data);\n    return error === null || error === void 0 ? void 0 : (_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.data;\n  });\n  return putResponse;\n};\nexport const deleteHttp = url => {\n  //event.preventDefault();\n  store.dispatch(showLoader());\n  const deleteResponse = axios.delete(configVariable.baseUrl + url).then(response => {\n    store.dispatch(hideLoader());\n    console.log(\"User deleted successfully:\", response.data);\n    console.log(response);\n    if (response.status >= 200 && response.status < 299) {\n      Store.dispatch(hideErrorMesaage());\n      return response.data;\n    }\n  }).catch(error => {\n    var _error$response7, _error$response8, _error$response9;\n    console.log(error);\n    store.dispatch(hideLoader());\n    // Store.dispatch(showErrorMesaage(error.message));\n    Store.dispatch(showErrorMesaage(error === null || error === void 0 ? void 0 : (_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.data));\n    console.error(\"Error deleting data:\", error === null || error === void 0 ? void 0 : (_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : _error$response8.data);\n    return error === null || error === void 0 ? void 0 : (_error$response9 = error.response) === null || _error$response9 === void 0 ? void 0 : _error$response9.data;\n  });\n  return deleteResponse;\n};\nconst getToken = () => {\n  console.log(localStorage);\n  return localStorage.getItem(\"jwtToken\");\n};\nconst setToken = token => {\n  console.log(token);\n  localStorage.setItem(\"jwtToken\", token);\n};\nconst removeToken = () => {\n  localStorage.removeItem(\"jwtToken\");\n};","map":{"version":3,"names":["axios","configVariable","showLoader","hideLoader","store","hideErrorMesaage","showErrorMesaage","Store","getHttp","url","params","token","getToken","console","log","dispatch","getResponse","get","baseUrl","then","response","status","data","catch","error","postHttp","formData","postResponse","post","indexOf","localStorage","setItem","setToken","access_token","putHttp","putResponse","put","deleteHttp","deleteResponse","delete","getItem","removeToken","removeItem"],"sources":["/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/src/service/APIRequest.tsx"],"sourcesContent":["import axios, { AxiosResponse } from \"axios\";\nimport * as configVariable from \"./Config\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { showLoader, hideLoader } from \"../redux/features/loaderSlice\";\nimport store from \"../redux/Store\";\nimport { createAction } from \"@reduxjs/toolkit\";\nimport {\n  hideErrorMesaage,\n  showErrorMesaage,\n} from \"../redux/features/errorSlice\";\nimport Store from \"../redux/Store\";\n// import { showErrorMesaage } from \"../redux/actions/Actions\";\n\nexport const getHttp = (url, params?) => {\n  // const dispatch = useDispatch();\n  const token = getToken();\n  console.log(token);\n  store.dispatch(showLoader());\n  //var responseGet;\n  const getResponse = axios\n    .get(configVariable.baseUrl + url, {\n      // headers: {\n      //   \"Content-Type\": \"application/json\",\n      //   Authorization: `Bearer ${token}`,\n      // },\n\n      params: params ? params : null,\n    })\n\n    .then((response) => {\n      console.log(response.status);\n      store.dispatch(hideLoader());\n\n      return response.data;\n    })\n    .catch((error) => {\n      store.dispatch(hideLoader());\n      //return error;\n    });\n\n  return getResponse;\n\n  //   try {\n  //     const response = await axios.get(configVariable.baseUrl + url);\n  //     return response.data;\n  //   } catch (error) {\n  //     return error;\n  //   }\n};\n\nexport const postHttp = (url, formData) => {\n  //event.preventDefault();\n  store.dispatch(showLoader());\n\n  const postResponse = axios\n    .post(configVariable.baseUrl + url, formData)\n    .then((response: AxiosResponse) => {\n      store.dispatch(hideLoader());\n\n      console.log(\"Data submitted successfully!\", response);\n      if (response.status >= 200 && response.status < 299) {\n        if (url.indexOf(\"login\") !== -1) {\n          localStorage.setItem(\"jwtToken\", response.data);\n          setToken(response.data.data.access_token);\n          return response.data;\n        } else {\n          console.log(\"not login api!.\");\n          return response.data;\n        }\n\n        Store.dispatch(hideErrorMesaage());\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n      store.dispatch(hideLoader());\n      // Store.dispatch(showErrorMesaage(error.message));\n      Store.dispatch(showErrorMesaage(error?.response?.data));\n      console.error(\"Error submitting data:\", error?.response?.data);\n      return error?.response?.data;\n    });\n  return postResponse;\n};\n\nexport const putHttp = (url, formData) => {\n  //event.preventDefault();\n  store.dispatch(showLoader());\n\n  const putResponse = axios\n    .put(configVariable.baseUrl + url, formData)\n    .then((response: AxiosResponse) => {\n      store.dispatch(hideLoader());\n\n      console.log(\"Data Updated successfully!\", response.data);\n      console.log(response);\n      if (response.status >= 200 && response.status < 299) {\n        Store.dispatch(hideErrorMesaage());\n        return response.data;\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n      store.dispatch(hideLoader());\n      // Store.dispatch(showErrorMesaage(error.message));\n      Store.dispatch(showErrorMesaage(error?.response?.data));\n      console.error(\"Error submitting data:\", error?.response?.data);\n      return error?.response?.data;\n    });\n  return putResponse;\n};\n\nexport const deleteHttp = (url) => {\n  //event.preventDefault();\n  store.dispatch(showLoader());\n\n  const deleteResponse = axios\n    .delete(configVariable.baseUrl + url)\n    .then((response: AxiosResponse) => {\n      store.dispatch(hideLoader());\n\n      console.log(\"User deleted successfully:\", response.data);\n      console.log(response);\n      if (response.status >= 200 && response.status < 299) {\n        Store.dispatch(hideErrorMesaage());\n        return response.data;\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n      store.dispatch(hideLoader());\n      // Store.dispatch(showErrorMesaage(error.message));\n      Store.dispatch(showErrorMesaage(error?.response?.data));\n      console.error(\"Error deleting data:\", error?.response?.data);\n      return error?.response?.data;\n    });\n  return deleteResponse;\n};\n\nconst getToken = () => {\n  console.log(localStorage);\n  return localStorage.getItem(\"jwtToken\");\n};\n\nconst setToken = (token) => {\n  console.log(token);\n  localStorage.setItem(\"jwtToken\", token);\n};\n\nconst removeToken = () => {\n  localStorage.removeItem(\"jwtToken\");\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}