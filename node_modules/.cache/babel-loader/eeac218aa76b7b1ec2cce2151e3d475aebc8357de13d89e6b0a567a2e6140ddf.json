{"ast":null,"code":"import _regeneratorRuntime from\"/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Doughnut from\"../../components/Graph/donutChart/Doughnut\";import{getHttp}from\"../../service/APIRequest\";import\"./CategoryDetails.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CategoryDetails=function CategoryDetails(_ref){var details=_ref.details,backButtonClicked=_ref.backButtonClicked;console.log(details);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),subCategoryList=_useState2[0],setSubCategoryList=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedRow=_useState4[0],setSelectedRow=_useState4[1];useEffect(function(){fetchCatagoryList(details.id);},[]);var fetchCatagoryList=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(param){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getHttp(\"categories/\"+details.id+\"/subcategories\");case 2:response=_context.sent;setSubCategoryList(response);case 4:case\"end\":return _context.stop();}},_callee);}));return function fetchCatagoryList(_x){return _ref2.apply(this,arguments);};}();var clickedOnSubcategory=function clickedOnSubcategory(count,index){console.log(\"test\",count);count>0?setSelectedRow(index):console.log(\"not applicable\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"top-padding-sub\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"back-button\",onClick:backButtonClicked,children:/*#__PURE__*/_jsx(\"img\",{src:require(\"../../assets/back.png\"),alt:\"\",width:\"50px\",height:\"50px\"})}),details.name,/*#__PURE__*/_jsxs(\"div\",{className:\"list-container\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"each-column-border\",children:\"Subcategory name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"each-column-border\",children:\"# of employees \"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:subCategoryList===null||subCategoryList===void 0?void 0:subCategoryList.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{className:selectedRow===index?\"highlight\":\"\",onClick:function onClick(){return clickedOnSubcategory(item.count,index);},children:[/*#__PURE__*/_jsx(\"td\",{className:\"each-column-border\",children:item.category}),/*#__PURE__*/_jsx(\"td\",{className:\"each-column-border\",children:item.count})]});})})]}),/*#__PURE__*/_jsx(Doughnut,{heading:\" skills (Number of employees in each category)\",details:subCategoryList})]}),/*#__PURE__*/_jsx(\"div\",{className:\"donutDiv\"})]});};export default CategoryDetails;","map":{"version":3,"names":["React","useEffect","useState","Doughnut","getHttp","CategoryDetails","details","backButtonClicked","console","log","subCategoryList","setSubCategoryList","selectedRow","setSelectedRow","fetchCatagoryList","id","param","response","clickedOnSubcategory","count","index","require","name","map","item","category"],"sources":["/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/src/pages/categoryDetails/CategoryDetails.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Doughnut from \"../../components/Graph/donutChart/Doughnut\";\nimport { getHttp } from \"../../service/APIRequest\";\nimport \"./CategoryDetails.css\";\n\nconst CategoryDetails = ({ details, backButtonClicked }) => {\n  console.log(details);\n  const [subCategoryList, setSubCategoryList] = useState([]);\n  const [selectedRow, setSelectedRow] = useState(null);\n\n  useEffect(() => {\n    fetchCatagoryList(details.id);\n  }, []);\n\n  const fetchCatagoryList = async (param?) => {\n    const response = await getHttp(\n      \"categories/\" + details.id + \"/subcategories\"\n    );\n    setSubCategoryList(response);\n  };\n\n  const clickedOnSubcategory = (count, index) => {\n    console.log(\"test\", count);\n    count > 0 ? setSelectedRow(index) : console.log(\"not applicable\");\n  };\n\n  return (\n    <div className=\"top-padding-sub\">\n      <div className=\"back-button\" onClick={backButtonClicked}>\n        <img\n          src={require(\"../../assets/back.png\")}\n          alt=\"\"\n          width=\"50px\"\n          height=\"50px\"\n        />\n      </div>\n\n      {details.name}\n      <div className=\"list-container\">\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th className=\"each-column-border\">Subcategory name</th>\n              <th className=\"each-column-border\"># of employees </th>\n            </tr>\n          </thead>\n          <tbody>\n            {subCategoryList?.map((item, index) => (\n              <tr\n                className={selectedRow === index ? \"highlight\" : \"\"}\n                onClick={() => clickedOnSubcategory(item.count, index)}\n              >\n                <td className=\"each-column-border\">{item.category}</td>\n                <td className=\"each-column-border\">{item.count}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n        {/* <ul className=\"subcat-list\">\n          {\" \"}\n          {subCategoryList?.map((item, index) => (\n            <li>\n              {item.category} - {item.count}\n            </li>\n          ))}\n        </ul> */}\n        <Doughnut\n          heading={\" skills (Number of employees in each category)\"}\n          details={subCategoryList}\n        />\n      </div>\n      {/* <div className=\"content1\">\n        <Doughnut details={subCategoryList} heading=\"Dubai Skills %\" />\n      </div> */}\n      <div className=\"donutDiv\">\n        {/* <DonutChart\n              //details={chartDetails.data_analytics}\n              heading={props.entityName + \" skills\"}\n              details={roleCount}\n            /> */}\n        {/* <Doughnut\n          heading={\" skills (Number of employees in each category)\"}\n          details={subCategoryList}\n        /> */}\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryDetails;\n"],"mappings":"2dAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,SAAQ,KAAM,4CAA4C,CACjE,OAASC,OAAO,KAAQ,0BAA0B,CAClD,MAAO,uBAAuB,CAAC,wFAE/B,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,MAAuC,IAAjCC,QAAO,MAAPA,OAAO,CAAEC,iBAAiB,MAAjBA,iBAAiB,CACnDC,OAAO,CAACC,GAAG,CAACH,OAAO,CAAC,CACpB,cAA8CJ,QAAQ,CAAC,EAAE,CAAC,wCAAnDQ,eAAe,eAAEC,kBAAkB,eAC1C,eAAsCT,QAAQ,CAAC,IAAI,CAAC,yCAA7CU,WAAW,eAAEC,cAAc,eAElCZ,SAAS,CAAC,UAAM,CACda,iBAAiB,CAACR,OAAO,CAACS,EAAE,CAAC,CAC/B,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMD,kBAAiB,6FAAG,iBAAOE,KAAM,sJACdZ,QAAO,CAC5B,aAAa,CAAGE,OAAO,CAACS,EAAE,CAAG,gBAAgB,CAC9C,QAFKE,QAAQ,eAGdN,kBAAkB,CAACM,QAAQ,CAAC,CAAC,qDAC9B,kBALKH,kBAAiB,6CAKtB,CAED,GAAMI,qBAAoB,CAAG,QAAvBA,qBAAoB,CAAIC,KAAK,CAAEC,KAAK,CAAK,CAC7CZ,OAAO,CAACC,GAAG,CAAC,MAAM,CAAEU,KAAK,CAAC,CAC1BA,KAAK,CAAG,CAAC,CAAGN,cAAc,CAACO,KAAK,CAAC,CAAGZ,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,CACnE,CAAC,CAED,mBACE,aAAK,SAAS,CAAC,iBAAiB,wBAC9B,YAAK,SAAS,CAAC,aAAa,CAAC,OAAO,CAAEF,iBAAkB,uBACtD,YACE,GAAG,CAAEc,OAAO,CAAC,uBAAuB,CAAE,CACtC,GAAG,CAAC,EAAE,CACN,KAAK,CAAC,MAAM,CACZ,MAAM,CAAC,MAAM,EACb,EACE,CAELf,OAAO,CAACgB,IAAI,cACb,aAAK,SAAS,CAAC,gBAAgB,wBAC7B,eAAO,SAAS,CAAC,OAAO,wBACtB,oCACE,mCACE,WAAI,SAAS,CAAC,oBAAoB,UAAC,kBAAgB,EAAK,cACxD,WAAI,SAAS,CAAC,oBAAoB,UAAC,iBAAe,EAAK,GACpD,EACC,cACR,uBACGZ,eAAe,SAAfA,eAAe,iBAAfA,eAAe,CAAEa,GAAG,CAAC,SAACC,IAAI,CAAEJ,KAAK,qBAChC,YACE,SAAS,CAAER,WAAW,GAAKQ,KAAK,CAAG,WAAW,CAAG,EAAG,CACpD,OAAO,CAAE,yBAAMF,qBAAoB,CAACM,IAAI,CAACL,KAAK,CAAEC,KAAK,CAAC,EAAC,wBAEvD,WAAI,SAAS,CAAC,oBAAoB,UAAEI,IAAI,CAACC,QAAQ,EAAM,cACvD,WAAI,SAAS,CAAC,oBAAoB,UAAED,IAAI,CAACL,KAAK,EAAM,GACjD,EACN,CAAC,EACI,GACF,cASR,KAAC,QAAQ,EACP,OAAO,CAAE,gDAAiD,CAC1D,OAAO,CAAET,eAAgB,EACzB,GACE,cAIN,YAAK,SAAS,CAAC,UAAU,EAUnB,GACF,CAEV,CAAC,CAED,cAAeL,gBAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}