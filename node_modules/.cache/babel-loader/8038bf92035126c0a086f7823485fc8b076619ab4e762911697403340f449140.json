{"ast":null,"code":"import axios from\"axios\";import*as configVariable from\"./Config\";import{showLoader,hideLoader}from\"../redux/features/loaderSlice\";import store from\"../redux/Store\";import{hideErrorMesaage,showErrorMesaage}from\"../redux/features/errorSlice\";import Store from\"../redux/Store\";// import { showErrorMesaage } from \"../redux/actions/Actions\";\nexport var getHttp=function getHttp(url,params){// const dispatch = useDispatch();\nvar token=getToken();store.dispatch(showLoader());//var responseGet;\nvar getResponse=axios.get(configVariable.baseUrl+url,{headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},params:params?params:null}).then(function(response){console.log(response);store.dispatch(hideLoader());return response.data;}).catch(function(error){store.dispatch(hideLoader());console.log(error);//return error;\n});return getResponse;//   try {\n//     const response = await axios.get(configVariable.baseUrl + url);\n//     return response.data;\n//   } catch (error) {\n//     return error;\n//   }\n};export var postHttp=function postHttp(url,formData,isMultipart){//event.preventDefault();\nstore.dispatch(showLoader());var headers={\"Content-Type\":\"application/json\"// Add other default headers here\n};console.log(url+\"---0000----\",formData);if(url.indexOf(\"login\")==-1){// If the URL does not contain \"login\", add Authorization header\nconsole.log(\"----\");var token=getToken();headers.Authorization=\"Bearer \".concat(token);}if(isMultipart){headers[\"Content-Type\"]=\"multipart/form-data\";}var postResponse=axios.post(configVariable.baseUrl+url,formData,{headers:headers}).then(function(response){store.dispatch(hideLoader());console.log(\"Data submitted successfully!\",response);if(response.status>=200&&response.status<299){if(url.indexOf(\"login\")!==-1){localStorage.setItem(\"jwtToken\",response.data);setToken(response.data.data.access_token);return response.data;}else{console.log(\"not login api!.\");return response.data;}Store.dispatch(hideErrorMesaage());}}).catch(function(error){var _error$response,_error$response2,_error$response3;console.log(error);store.dispatch(hideLoader());// Store.dispatch(showErrorMesaage(error.message));\nStore.dispatch(showErrorMesaage(error===null||error===void 0?void 0:(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data));console.error(\"Error submitting data:\",error===null||error===void 0?void 0:(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data);return error===null||error===void 0?void 0:(_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data;});return postResponse;};export var putHttp=function putHttp(url,formData){//event.preventDefault();\nstore.dispatch(showLoader());var token=getToken();var putResponse=axios.put(configVariable.baseUrl+url,formData,{headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}}).then(function(response){store.dispatch(hideLoader());console.log(\"Data Updated successfully!\",response.data);console.log(response);if(response.status>=200&&response.status<299){Store.dispatch(hideErrorMesaage());return response.data;}}).catch(function(error){var _error$response4,_error$response5,_error$response6;console.log(error);store.dispatch(hideLoader());// Store.dispatch(showErrorMesaage(error.message));\nStore.dispatch(showErrorMesaage(error===null||error===void 0?void 0:(_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.data));console.error(\"Error submitting data:\",error===null||error===void 0?void 0:(_error$response5=error.response)===null||_error$response5===void 0?void 0:_error$response5.data);return error===null||error===void 0?void 0:(_error$response6=error.response)===null||_error$response6===void 0?void 0:_error$response6.data;});return putResponse;};export var deleteHttp=function deleteHttp(url){//event.preventDefault();\nstore.dispatch(showLoader());var token=getToken();var deleteResponse=axios.delete(configVariable.baseUrl+url,{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(response){store.dispatch(hideLoader());console.log(\"User deleted successfully:\",response.data);console.log(response);if(response.status>=200&&response.status<299){Store.dispatch(hideErrorMesaage());return response.data;}}).catch(function(error){var _error$response7,_error$response8,_error$response9;console.log(error);store.dispatch(hideLoader());// Store.dispatch(showErrorMesaage(error.message));\nStore.dispatch(showErrorMesaage(error===null||error===void 0?void 0:(_error$response7=error.response)===null||_error$response7===void 0?void 0:_error$response7.data));console.error(\"Error deleting data:\",error===null||error===void 0?void 0:(_error$response8=error.response)===null||_error$response8===void 0?void 0:_error$response8.data);return error===null||error===void 0?void 0:(_error$response9=error.response)===null||_error$response9===void 0?void 0:_error$response9.data;});return deleteResponse;};var getToken=function getToken(){return localStorage.getItem(\"jwtToken\");};var setToken=function setToken(token){localStorage.setItem(\"jwtToken\",token);};var removeToken=function removeToken(){localStorage.removeItem(\"jwtToken\");};","map":{"version":3,"names":["axios","configVariable","showLoader","hideLoader","store","hideErrorMesaage","showErrorMesaage","Store","getHttp","url","params","token","getToken","dispatch","getResponse","get","baseUrl","headers","Authorization","then","response","console","log","data","catch","error","postHttp","formData","isMultipart","indexOf","postResponse","post","status","localStorage","setItem","setToken","access_token","putHttp","putResponse","put","deleteHttp","deleteResponse","delete","getItem","removeToken","removeItem"],"sources":["/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/src/service/APIRequest.tsx"],"sourcesContent":["import axios, { AxiosResponse } from \"axios\";\nimport * as configVariable from \"./Config\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { showLoader, hideLoader } from \"../redux/features/loaderSlice\";\nimport store from \"../redux/Store\";\nimport { createAction } from \"@reduxjs/toolkit\";\nimport {\n  hideErrorMesaage,\n  showErrorMesaage,\n} from \"../redux/features/errorSlice\";\nimport Store from \"../redux/Store\";\n// import { showErrorMesaage } from \"../redux/actions/Actions\";\n\nexport const getHttp = (url, params?) => {\n  // const dispatch = useDispatch();\n  const token = getToken();\n\n  store.dispatch(showLoader());\n  //var responseGet;\n  const getResponse = axios\n    .get(configVariable.baseUrl + url, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n\n      params: params ? params : null,\n    })\n\n    .then((response) => {\n      console.log(response);\n      store.dispatch(hideLoader());\n\n      return response.data;\n    })\n    .catch((error) => {\n      store.dispatch(hideLoader());\n      console.log(error);\n      //return error;\n    });\n\n  return getResponse;\n\n  //   try {\n  //     const response = await axios.get(configVariable.baseUrl + url);\n  //     return response.data;\n  //   } catch (error) {\n  //     return error;\n  //   }\n};\n\nexport const postHttp = (url, formData, isMultipart?) => {\n  //event.preventDefault();\n  store.dispatch(showLoader());\n  const headers: any = {\n    \"Content-Type\": \"application/json\",\n    // Add other default headers here\n  };\n  console.log(url + \"---0000----\", formData);\n  if (url.indexOf(\"login\") == -1) {\n    // If the URL does not contain \"login\", add Authorization header\n    console.log(\"----\");\n    const token = getToken();\n    headers.Authorization = `Bearer ${token}`;\n  }\n  if (isMultipart) {\n    headers[\"Content-Type\"] = \"multipart/form-data\";\n  }\n\n  const postResponse = axios\n    .post(configVariable.baseUrl + url, formData, { headers })\n    .then((response) => {\n      store.dispatch(hideLoader());\n\n      console.log(\"Data submitted successfully!\", response);\n      if (response.status >= 200 && response.status < 299) {\n        if (url.indexOf(\"login\") !== -1) {\n          localStorage.setItem(\"jwtToken\", response.data);\n          setToken(response.data.data.access_token);\n          return response.data;\n        } else {\n          console.log(\"not login api!.\");\n          return response.data;\n        }\n\n        Store.dispatch(hideErrorMesaage());\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n      store.dispatch(hideLoader());\n      // Store.dispatch(showErrorMesaage(error.message));\n      Store.dispatch(showErrorMesaage(error?.response?.data));\n      console.error(\"Error submitting data:\", error?.response?.data);\n      return error?.response?.data;\n    });\n  return postResponse;\n};\n\nexport const putHttp = (url, formData) => {\n  //event.preventDefault();\n  store.dispatch(showLoader());\n  const token = getToken();\n  const putResponse = axios\n    .put(configVariable.baseUrl + url, formData, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n    .then((response: AxiosResponse) => {\n      store.dispatch(hideLoader());\n\n      console.log(\"Data Updated successfully!\", response.data);\n      console.log(response);\n      if (response.status >= 200 && response.status < 299) {\n        Store.dispatch(hideErrorMesaage());\n        return response.data;\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n      store.dispatch(hideLoader());\n      // Store.dispatch(showErrorMesaage(error.message));\n      Store.dispatch(showErrorMesaage(error?.response?.data));\n      console.error(\"Error submitting data:\", error?.response?.data);\n      return error?.response?.data;\n    });\n  return putResponse;\n};\n\nexport const deleteHttp = (url) => {\n  //event.preventDefault();\n  store.dispatch(showLoader());\n  const token = getToken();\n  const deleteResponse = axios\n    .delete(configVariable.baseUrl + url, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    })\n    .then((response: AxiosResponse) => {\n      store.dispatch(hideLoader());\n\n      console.log(\"User deleted successfully:\", response.data);\n      console.log(response);\n      if (response.status >= 200 && response.status < 299) {\n        Store.dispatch(hideErrorMesaage());\n        return response.data;\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n      store.dispatch(hideLoader());\n      // Store.dispatch(showErrorMesaage(error.message));\n      Store.dispatch(showErrorMesaage(error?.response?.data));\n      console.error(\"Error deleting data:\", error?.response?.data);\n      return error?.response?.data;\n    });\n  return deleteResponse;\n};\n\nconst getToken = () => {\n  return localStorage.getItem(\"jwtToken\");\n};\n\nconst setToken = (token) => {\n  localStorage.setItem(\"jwtToken\", token);\n};\n\nconst removeToken = () => {\n  localStorage.removeItem(\"jwtToken\");\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}