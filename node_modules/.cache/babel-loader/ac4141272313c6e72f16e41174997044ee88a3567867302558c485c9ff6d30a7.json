{"ast":null,"code":"var _jsxFileName = \"/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/src/components/EmployeeProfile/CompetancyEvaluation.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { getHttp } from \"../../service/APIRequest\";\nimport { allSkillsByRoleId } from \"../../service/Config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CompetancyEvaluation = () => {\n  _s();\n  useEffect(() => {\n    getSkillSet();\n  }, []);\n  const [allSkills, setallSkills] = useState({});\n  const getSkillSet = () => {\n    getHttp(allSkillsByRoleId + 4).then(response => {\n      console.log(response);\n      setallSkills(response);\n    }).catch(error => {\n      console.log(error);\n      // handle error\n    });\n    ///\n  };\n\n  const initialCourse = {\n    course_name: \"\",\n    enrollment_date: \"\",\n    enrollment_result: \"\"\n  };\n  const initialSkill = {\n    name: \"\",\n    evaluation_result: \"\",\n    evaluation_date: \"\",\n    courses: [initialCourse]\n  };\n  const [employeeData, setEmployeeData] = useState({\n    employee_number: \"\",\n    name: \"\",\n    role: \"\",\n    organization: \"\",\n    total_exp: \"\",\n    cs_exp: \"\",\n    job_profile: \"\",\n    skills: [initialSkill]\n  });\n  const handleAddSkill = () => {\n    setEmployeeData(prevData => ({\n      ...prevData,\n      skills: [...prevData.skills, {\n        ...initialSkill\n      }]\n    }));\n  };\n  const handleAddCourse = skillIndex => {\n    setEmployeeData(prevData => ({\n      ...prevData,\n      skills: prevData.skills.map((skill, idx) => idx === skillIndex ? {\n        ...skill,\n        courses: [...skill.courses, {\n          ...initialCourse\n        }]\n      } : skill)\n    }));\n  };\n  const handleSkillChange = (e, skillIndex) => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEmployeeData(prevData => ({\n      ...prevData,\n      skills: prevData.skills.map((skill, idx) => idx === skillIndex ? {\n        ...skill,\n        [name]: value\n      } : skill)\n    }));\n  };\n  const handleCourseChange = (e, skillIndex, courseIndex) => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEmployeeData(prevData => ({\n      ...prevData,\n      skills: prevData.skills.map((skill, sIdx) => sIdx === skillIndex ? {\n        ...skill,\n        courses: skill.courses.map((course, cIdx) => cIdx === courseIndex ? {\n          ...course,\n          [name]: value\n        } : course)\n      } : skill)\n    }));\n  };\n  const handleSave = () => {\n    // This is where you can use the 'employeeData' state to send it to the backend\n    console.log(employeeData);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [employeeData.skills.map((skill, skillIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        value: skill.name,\n        onChange: e => handleSkillChange(e, skillIndex),\n        placeholder: \"Skill Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"evaluation_result\",\n        value: skill.evaluation_result,\n        onChange: e => handleSkillChange(e, skillIndex),\n        placeholder: \"Evaluation Result\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this), skill.courses.map((course, courseIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: course.course_name,\n          onChange: e => handleCourseChange(e, skillIndex, courseIndex),\n          placeholder: \"Course Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 15\n        }, this), courseIndex === skill.courses.length - 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAddCourse(skillIndex),\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }, this)]\n      }, courseIndex, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddSkill,\n        children: \"Add Skill\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this)]\n    }, skillIndex, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSave,\n      children: \"Save\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n};\n_s(CompetancyEvaluation, \"MCuFJOVxtrQhiZj7K85elOsnYhg=\");\n_c = CompetancyEvaluation;\nfunction handleAddTrainingDetails(arg0, id) {\n  throw new Error(\"Function not implemented.\");\n}\nvar _c;\n$RefreshReg$(_c, \"CompetancyEvaluation\");","map":{"version":3,"names":["React","useEffect","useState","getHttp","allSkillsByRoleId","CompetancyEvaluation","getSkillSet","allSkills","setallSkills","then","response","console","log","catch","error","initialCourse","course_name","enrollment_date","enrollment_result","initialSkill","name","evaluation_result","evaluation_date","courses","employeeData","setEmployeeData","employee_number","role","organization","total_exp","cs_exp","job_profile","skills","handleAddSkill","prevData","handleAddCourse","skillIndex","map","skill","idx","handleSkillChange","e","value","target","handleCourseChange","courseIndex","sIdx","course","cIdx","handleSave","length","handleAddTrainingDetails","arg0","id","Error"],"sources":["/Users/eanas.v/Desktop/DESC-Projects/2023/DB-managmnt-app/dashboard/src/components/EmployeeProfile/CompetancyEvaluation.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { getHttp } from \"../../service/APIRequest\";\nimport { allSkillsByRoleId } from \"../../service/Config\";\n\nexport const CompetancyEvaluation = () => {\n  useEffect(() => {\n    getSkillSet();\n  }, []);\n  const [allSkills, setallSkills] = useState<any>({});\n\n  const getSkillSet = () => {\n    getHttp(allSkillsByRoleId + 4)\n      .then((response) => {\n        console.log(response);\n        setallSkills(response);\n      })\n      .catch((error) => {\n        console.log(error);\n        // handle error\n      });\n    ///\n  };\n  const initialCourse = {\n    course_name: \"\",\n    enrollment_date: \"\",\n    enrollment_result: \"\",\n  };\n  const initialSkill = {\n    name: \"\",\n    evaluation_result: \"\",\n    evaluation_date: \"\",\n    courses: [initialCourse],\n  };\n\n  const [employeeData, setEmployeeData] = useState({\n    employee_number: \"\",\n    name: \"\",\n    role: \"\",\n    organization: \"\",\n    total_exp: \"\",\n    cs_exp: \"\",\n    job_profile: \"\",\n    skills: [initialSkill],\n  });\n\n  const handleAddSkill = () => {\n    setEmployeeData((prevData) => ({\n      ...prevData,\n      skills: [...prevData.skills, { ...initialSkill }],\n    }));\n  };\n\n  const handleAddCourse = (skillIndex) => {\n    setEmployeeData((prevData) => ({\n      ...prevData,\n      skills: prevData.skills.map((skill, idx) =>\n        idx === skillIndex\n          ? { ...skill, courses: [...skill.courses, { ...initialCourse }] }\n          : skill\n      ),\n    }));\n  };\n\n  const handleSkillChange = (e, skillIndex) => {\n    const { name, value } = e.target;\n    setEmployeeData((prevData) => ({\n      ...prevData,\n      skills: prevData.skills.map((skill, idx) =>\n        idx === skillIndex ? { ...skill, [name]: value } : skill\n      ),\n    }));\n  };\n\n  const handleCourseChange = (e, skillIndex, courseIndex) => {\n    const { name, value } = e.target;\n    setEmployeeData((prevData) => ({\n      ...prevData,\n      skills: prevData.skills.map((skill, sIdx) =>\n        sIdx === skillIndex\n          ? {\n              ...skill,\n              courses: skill.courses.map((course, cIdx) =>\n                cIdx === courseIndex ? { ...course, [name]: value } : course\n              ),\n            }\n          : skill\n      ),\n    }));\n  };\n\n  const handleSave = () => {\n    // This is where you can use the 'employeeData' state to send it to the backend\n    console.log(employeeData);\n  };\n\n  return (\n    <div>\n      {employeeData.skills.map((skill, skillIndex) => (\n        <div key={skillIndex}>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={skill.name}\n            onChange={(e) => handleSkillChange(e, skillIndex)}\n            placeholder=\"Skill Name\"\n          />\n          <input\n            type=\"text\"\n            name=\"evaluation_result\"\n            value={skill.evaluation_result}\n            onChange={(e) => handleSkillChange(e, skillIndex)}\n            placeholder=\"Evaluation Result\"\n          />\n          {/* Add more input fields for evaluation date and other skill details */}\n\n          {skill.courses.map((course, courseIndex) => (\n            <div key={courseIndex}>\n              <input\n                type=\"text\"\n                value={course.course_name}\n                onChange={(e) => handleCourseChange(e, skillIndex, courseIndex)}\n                placeholder=\"Course Name\"\n              />\n              {/* Add input fields for enrollment date, enrollment result, etc. */}\n\n              {courseIndex === skill.courses.length - 1 && (\n                <button onClick={() => handleAddCourse(skillIndex)}>+</button>\n              )}\n            </div>\n          ))}\n          <button onClick={handleAddSkill}>Add Skill</button>\n        </div>\n      ))}\n      <button onClick={handleSave}>Save</button>\n    </div>\n  );\n};\nfunction handleAddTrainingDetails(arg0: string, id: any): void {\n  throw new Error(\"Function not implemented.\");\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}